{% extends "base.html" %}

{% block content %}

{% for post in object_list %}
<h2>{{post.title}}</h2>
<p>Published on: {{post.pub_date|date:"F j, Y @ f a"}}</p>
<p>{{post.body|truncatewords_html:"50"|safe}}</p>
<p>Tags:
{% for tag in post.tags.all %}
	{{tag|lower}}{% if forloop.last %}{% else %},{% endif %}
	
{% endfor %}
</p>
<p><a href="{{post.get_absolute_url}}">Read full article</a></p>
{% endfor %}

<!-- Pagination -->
{% if is_paginated %}
    <div class="pagination">
        <span class="step-links">
            {% if page_obj.has_previous %}
                <a href="?page={{ page_obj.previous_page_number }}">previous</a>
            {% endif %}

            <span class="current">
                Page {{ page_obj.number }} of {{ paginator.num_pages }}.
            </span>

            {% if page_obj.has_next %}
                <a href="?page={{ page_obj.next_page_number }}">next</a>
            {% endif %}
        </span>
    </div>
{% endif %}

{% endblock %}